;ejercicio 6, determina la cant de segundos que hay
include irvine32.inc

.data
    Hora BYTE   "11:27:42", 0   ; Hora en formato HH:MM:SS
    Hora2 BYTE  "24:60:60", 0  ; Otra hora en formato HH:MM:SS
    Hora3 BYTE  "00:00:00", 0  ; Otra hora en formato HH:MM:SS
    cant_h DWORD ?
    cant_m DWORD ?
    cant_s DWORD ?
    msg BYTE 'Total de segundos: ', 0

.code
main PROC
    ; Cargar dirección del string Hora
    mov esi, OFFSET Hora

    ; Obtener horas
    movzx eax, BYTE PTR [esi]  ; Primer dígito de la hora
    sub eax, 30h
    mov ebx, 10
    mul ebx
    mov cant_h, eax
    
    inc esi
    movzx eax, BYTE PTR [esi]  ; Segundo dígito de la hora
    sub eax, 30h
    add cant_h, eax

    ; Obtener minutos
    add esi,2  ; Saltar los dos puntos
    movzx eax, BYTE PTR [esi]  ; Primer dígito de los minutos
    sub eax, 30h
    mul ebx
    mov cant_m, eax
    
    inc esi
    movzx eax, BYTE PTR [esi]  ; Segundo dígito de los minutos
    sub eax, 30h
    add cant_m, eax

    ; Obtener segundos
    add esi,2  ; Saltar los dos puntos
    movzx eax, BYTE PTR [esi]  ; Primer dígito de los segundos
    sub eax, 30h
    mul ebx
    mov cant_s, eax
    
    inc esi
    movzx eax, BYTE PTR [esi]  ; Segundo dígito de los segundos
    sub eax, 30h
    add cant_s, eax

    ; Convertir a segundos totales
    mov eax, cant_h
    mov ebx, 3600
    mul ebx
    add cant_s, eax

    mov eax, cant_m
    mov ebx, 60
    mul ebx
    add cant_s, eax

    ; Imprimir mensaje
    mov edx, OFFSET msg
    call WriteString

    ; Imprimir total de segundos
    mov eax, cant_s
    call WriteDec

    call Crlf
    call ReadChar
    exit
main ENDP

END main